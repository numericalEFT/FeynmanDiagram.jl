<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Parquet Algorithm to Build Diagrams · FeynmanDiagram.jl</title><script data-outdated-warner src="../../assets/warner.js"></script><link rel="canonical" href="https://numericaleft.github.io/FeynmanDiagram.jl/lib/parquet/"/><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.039/juliamono-regular.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.11/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script><link href="../../assets/custom.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../">FeynmanDiagram.jl</a></span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><span class="tocitem">Manual</span><ul><li><a class="tocitem" href="../../manual/counterterms/">Evaluation of counterterms</a></li><li><a class="tocitem" href="../../manual/feynman_rule/">Feynman Rules</a></li><li><a class="tocitem" href="../../manual/interaction/">Interaction/Scattering-Amplitude Convention</a></li><li><a class="tocitem" href="../../manual/hubbard_atom/">Hubbard Atom as a Test Case</a></li></ul></li><li><span class="tocitem">API reference</span><ul><li><a class="tocitem" href="../operator/">Quantum operator and its product</a></li><li><a class="tocitem" href="../computgraph/">Computational graph for general feynman diagrams</a></li><li><a class="tocitem" href="../taylorseries/">Taylor expansions in independent variables (support AbstractGraph)</a></li><li><a class="tocitem" href="../frontend/">Front-end generates Feynman diagrams and translates then into a computational graph</a></li><li><a class="tocitem" href="../GV/">GV expansion to a computational graph</a></li><li class="is-active"><a class="tocitem" href>Parquet Algorithm to Build Diagrams</a><ul class="internal"><li><a class="tocitem" href="#API"><span>API</span></a></li><li><a class="tocitem" href="#Usage"><span>Usage</span></a></li></ul></li><li><a class="tocitem" href="../backend/">Compilers compile computational graphs to optimized source code for diverse platforms</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">API reference</a></li><li class="is-active"><a href>Parquet Algorithm to Build Diagrams</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Parquet Algorithm to Build Diagrams</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/numericalEFT/FeynmanDiagram.jl/blob/master/docs/src/lib/parquet.md#" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Parquet-Algorithm-to-Build-Diagrams"><a class="docs-heading-anchor" href="#Parquet-Algorithm-to-Build-Diagrams">Parquet Algorithm to Build Diagrams</a><a id="Parquet-Algorithm-to-Build-Diagrams-1"></a><a class="docs-heading-anchor-permalink" href="#Parquet-Algorithm-to-Build-Diagrams" title="Permalink"></a></h1><h2 id="API"><a class="docs-heading-anchor" href="#API">API</a><a id="API-1"></a><a class="docs-heading-anchor-permalink" href="#API" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="FeynmanDiagram.FrontEnds.Parquet.ParquetBlocks" href="#FeynmanDiagram.FrontEnds.Parquet.ParquetBlocks"><code>FeynmanDiagram.FrontEnds.Parquet.ParquetBlocks</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">struct ParquetBlocks

The channels of the left and right sub-vertex4 of a bubble diagram in the parquet equation</code></pre><p>#Members</p><ul><li><code>phi</code>   : channels of left sub-vertex for the particle-hole and particle-hole-exchange bubbles</li><li><code>ppi</code>   : channels of left sub-vertex for the particle-particle bubble</li><li><code>Γ4</code>   : channels of right sub-vertex of all channels</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/numericalEFT/FeynmanDiagram.jl/blob/5b58358167a134282bff0660a5ee5c3c3e9bc3c5/src/frontend/parquet/parquet.jl#L74-L83">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="FeynmanDiagram.FrontEnds.Parquet.ep_coupling-Tuple{FeynmanDiagram.FrontEnds.Parquet.DiagPara}" href="#FeynmanDiagram.FrontEnds.Parquet.ep_coupling-Tuple{FeynmanDiagram.FrontEnds.Parquet.DiagPara}"><code>FeynmanDiagram.FrontEnds.Parquet.ep_coupling</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">function ep_coupling(para::DiagPara;
    extK=[getK(para.totalLoopNum, 1), getK(para.totalLoopNum, 2), getK(para.totalLoopNum, 3)],
    channels::AbstractVector=[PHr, PHEr, PPr, Alli],
    subdiagram=false,
    name=:none, resetuid=false,
    blocks::ParquetBlocks=ParquetBlocks()
)</code></pre><p>Generate electron-phonon 4-vertex diagrams using Parquet Algorithm. The right incoming Tau will be set to the last Tau for all diagrams |         | Γ3 –––-| |         |</p><p><strong>Arguments</strong></p><ul><li><code>para</code>            : parameters. It should provide internalLoopNum, interactionTauNum, firstTauIdx</li><li><code>extK</code>            : basis of external loops as a vector [left in, left out, right in, right out]. </li><li><code>channels</code>        : vector of channels in the left Γ3 diagrams. </li><li><code>subdiagram</code>      : a sub-vertex or not</li><li><code>name</code>            : name of the vertex</li><li><code>resetuid</code>        : restart uid count from 1</li><li><code>blocks</code>          : building blocks of the Parquet equation. See the struct ParquetBlocks for more details.</li></ul><p><strong>Output</strong></p><ul><li>A DataFrame with fields :response, :extT, :diagram, :hash. </li></ul><p><strong>Output</strong></p><ul><li>A DataFrame with fields :response, :type, :extT, :diagram, :hash</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/numericalEFT/FeynmanDiagram.jl/blob/5b58358167a134282bff0660a5ee5c3c3e9bc3c5/src/frontend/parquet/ep_coupling.jl#L1-L29">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="FeynmanDiagram.FrontEnds.Parquet.get_ver4I-Tuple{}" href="#FeynmanDiagram.FrontEnds.Parquet.get_ver4I-Tuple{}"><code>FeynmanDiagram.FrontEnds.Parquet.get_ver4I</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">get_ver4I()

Retrieves the global dictionary `vertex4I_diags` that contains graph initialized by `initialize_vertex4I_diags`. 
This function is a getter that provides access to the stored graph data of the 3- and 4-point fully-irreducible (Alli) vertex functions.</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/numericalEFT/FeynmanDiagram.jl/blob/5b58358167a134282bff0660a5ee5c3c3e9bc3c5/src/frontend/parquet/parquet.jl#L227-L232">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="FeynmanDiagram.FrontEnds.Parquet.green" href="#FeynmanDiagram.FrontEnds.Parquet.green"><code>FeynmanDiagram.FrontEnds.Parquet.green</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">green(para::DiagPara, extK = getK(para.totalLoopNum, 1), extT = para.hasTau ? (1, 2) : (0, 0), subdiagram = false;
    name = :G, resetuid = false, blocks::ParquetBlocks=ParquetBlocks())</code></pre><p>Build composite Green&#39;s function. By definition, para.firstTauIdx is the first Tau index of the left most self-energy subdiagram.</p><p><strong>Arguments</strong></p><ul><li><code>para</code>            : parameters. It should provide internalLoopNum, interactionTauNum, firstTauIdx</li><li><code>extK</code>            : basis of external loop. </li><li><code>extT</code>: [Tau index of the left leg, Tau index of the right leg]</li><li><code>subdiagram</code>      : a sub-vertex or not</li><li><code>name</code>            : name of the diagram</li><li><code>resetuid</code>        : restart uid count from 1</li><li><code>blocks</code>          : building blocks of the Parquet equation. See the struct ParquetBlocks for more details.</li></ul><p><strong>Output</strong></p><ul><li>A Graph object or nothing if the Green&#39;s function is illegal. </li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/numericalEFT/FeynmanDiagram.jl/blob/5b58358167a134282bff0660a5ee5c3c3e9bc3c5/src/frontend/parquet/green.jl#L1-L20">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="FeynmanDiagram.FrontEnds.Parquet.initialize_vertex4I_diags-Tuple{}" href="#FeynmanDiagram.FrontEnds.Parquet.initialize_vertex4I_diags-Tuple{}"><code>FeynmanDiagram.FrontEnds.Parquet.initialize_vertex4I_diags</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">initialize_vertex4I_diags(; filter=[NoHartree], spinPolarPara::Float64=0.0)

Initialize the vertex4I_diags dictionary with the diagrams of the 3- and 4-point fully-irreducible (Alli) vertex functions.</code></pre><p><strong>Parameters</strong></p><ul><li><code>filter (optional)</code> : a list of filter conditions to select the diagrams. Default is <code>[NoHartree]</code>.</li><li><code>spinPolarPara (optional)</code> : the spin-polarization parameter. Default is <code>0.0</code>.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/numericalEFT/FeynmanDiagram.jl/blob/5b58358167a134282bff0660a5ee5c3c3e9bc3c5/src/frontend/parquet/parquet.jl#L213-L221">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="FeynmanDiagram.FrontEnds.Parquet.innerTauNum-Tuple{FeynmanDiagram.FrontEnds.Parquet.DiagramType, Any, Any}" href="#FeynmanDiagram.FrontEnds.Parquet.innerTauNum-Tuple{FeynmanDiagram.FrontEnds.Parquet.DiagramType, Any, Any}"><code>FeynmanDiagram.FrontEnds.Parquet.innerTauNum</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">function innerTauNum(type::DiagramType, innerLoopNum, interactionTauNum)

internal imaginary-time degrees of freedom for a given diagram type and internal loop number.
For the vertex functions (self-energy, polarization, vertex3, and vertex4), innerTauNum is equivalent to tauNum.
For the Green function, tauNum = innerTauNum + external tauNum</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/numericalEFT/FeynmanDiagram.jl/blob/5b58358167a134282bff0660a5ee5c3c3e9bc3c5/src/frontend/parquet/common.jl#L47-L53">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="FeynmanDiagram.FrontEnds.Parquet.mergeby" href="#FeynmanDiagram.FrontEnds.Parquet.mergeby"><code>FeynmanDiagram.FrontEnds.Parquet.mergeby</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">function mergeby(df::DataFrame, fields=Vector{Symbol}();
    operator=Sum(), name::Symbol=:none,
    getid::Function=g -&gt; GenericId(g[1, :diagram].properties.para, Tuple(g[1, fields]))
)

Aggregates and merges rows in a DataFrame based on specified fields and an aggregation operator.
It is designed to work with data frames containing diagram representations or similar structured data, 
allowing for flexible aggregation based on custom identifiers and properties.</code></pre><p><strong>Parameters</strong></p><ul><li><code>df</code>: A DataFrame to be processed. It must contain a column named :diagram which holds <code>Graph</code>.</li><li><code>fields</code>: A vector of Symbols specifying the columns based on which the aggregation groups are formed.</li><li><code>operator</code>: The aggregation operator to be applied. This operator is used to aggregate data across rows within each group formed by the specified fields. The default is Sum().</li><li><code>name</code>: An optional Symbol representing the name of a new column to store the aggregated results. The default is :none.</li><li><code>getid</code>: A function that generates a unique identifier for each group based on the specified fields and the properties of the :diagram column. The default function is <code>g -&gt; GenericId(g[1, :diagram].properties.para, Tuple(g[1, fields]))</code>.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/numericalEFT/FeynmanDiagram.jl/blob/5b58358167a134282bff0660a5ee5c3c3e9bc3c5/src/frontend/parquet/operation.jl#L71-L87">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="FeynmanDiagram.FrontEnds.Parquet.polarization" href="#FeynmanDiagram.FrontEnds.Parquet.polarization"><code>FeynmanDiagram.FrontEnds.Parquet.polarization</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">function polarization(para::DiagPara, extK=getK(para.totalLoopNum, 1), subdiagram=false; name=:Π, resetuid=false, blocks::ParquetBlocks=ParquetBlocks())</code></pre><p>Generate polarization diagrams using Parquet Algorithm.</p><p><strong>Arguments</strong></p><ul><li><code>para</code>            : parameters. It should provide internalLoopNum, interactionTauNum, firstTauIdx</li><li><code>extK</code>            : basis of external loop. </li><li><code>subdiagram</code>      : a sub-vertex or not</li><li><code>name</code>            : name of the vertex</li><li><code>resetuid</code>        : restart uid count from 1</li><li><code>blocks</code>          : building blocks of the Parquet equation. See the struct ParquetBlocks for more details.</li></ul><p><strong>Output</strong></p><ul><li>A DataFrame with fields <code>:response</code>, <code>:diagram</code>, <code>:hash</code>. </li><li>All polarization share the same external Tau index. With imaginary-time variables, they are extT = (para.firstTauIdx, para.firstTauIdx+1)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/numericalEFT/FeynmanDiagram.jl/blob/5b58358167a134282bff0660a5ee5c3c3e9bc3c5/src/frontend/parquet/polarization.jl#L2-L17">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="FeynmanDiagram.FrontEnds.Parquet.sigma" href="#FeynmanDiagram.FrontEnds.Parquet.sigma"><code>FeynmanDiagram.FrontEnds.Parquet.sigma</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">function sigma(para::DiagPara, extK=getK(para.totalLoopNum, 1), subdiagram=false;
    name=:Σ, resetuid=false, blocks::ParquetBlocks=ParquetBlocks())</code></pre><p>Build sigma diagram.  When sigma is created as a subdiagram, then no Fock diagram is generated if para.filter contains NoFock, and no sigma diagram is generated if para.filter contains Girreducible</p><p><strong>Arguments</strong></p><ul><li><code>para</code>            : parameters. It should provide internalLoopNum, interactionTauNum, firstTauIdx</li><li><code>extK</code>            : basis of external loop. </li><li><code>subdiagram</code>      : a sub-vertex or not</li><li><code>name</code>            : name of the diagram</li><li><code>resetuid</code>        : restart uid count from 1</li><li><code>blocks</code>          : building blocks of the Parquet equation. See the struct ParquetBlocks for more details.</li></ul><p><strong>Output</strong></p><ul><li>A DataFrame with fields <code>:type</code>, <code>:extT</code>, <code>:diagram</code>, <code>:hash</code></li><li>All sigma share the same incoming Tau index, but not the outgoing one</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/numericalEFT/FeynmanDiagram.jl/blob/5b58358167a134282bff0660a5ee5c3c3e9bc3c5/src/frontend/parquet/sigma.jl#L1-L19">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="FeynmanDiagram.FrontEnds.Parquet.update_extKT" href="#FeynmanDiagram.FrontEnds.Parquet.update_extKT"><code>FeynmanDiagram.FrontEnds.Parquet.update_extKT</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">update_extKT(diags::Vector{Graph}, para::DiagPara, legK::Vector{Vector{Float64}}) -&gt; Vector{Graph}

Returns a new vector of graphs with updated external momenta (`extK`) and external times (`extT`), 
based on the provided graphs, parameters, and external legs&#39; momenta.</code></pre><p><strong>Arguments</strong></p><ul><li><code>diags::Vector{Graph}</code>: A vector of <code>Graph</code> objects.</li><li><code>para::DiagPara</code>: parameters reconstructed in the graphs. Its <code>firstTauIdx</code> will update the <code>extT</code> of graphs.</li><li><code>legK::Vector{Vector{Float64}}</code>: basis of the external momenta for the legs of the diagram as [left in, left out, right in, right out]. </li><li><code>extraLoopIdx</code>: the index of the extra loop in the external momenta basis in <code>legK</code>. Defaults to <code>nothing</code>, which means no extra loop is included. </li></ul><p><strong>Returns</strong></p><ul><li><code>Vector{Graph}</code>: A new vector of <code>Graph</code> objects with updated <code>extK</code>, <code>extT</code>, and <code>para</code> (if existing) properties for each node.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/numericalEFT/FeynmanDiagram.jl/blob/5b58358167a134282bff0660a5ee5c3c3e9bc3c5/src/frontend/parquet/operation.jl#L239-L253">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="FeynmanDiagram.FrontEnds.Parquet.update_extKT!" href="#FeynmanDiagram.FrontEnds.Parquet.update_extKT!"><code>FeynmanDiagram.FrontEnds.Parquet.update_extKT!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">update_extKT!(diags::Vector{Graph}, para::DiagPara, legK::Vector{Vector{Float64}})

Update the external momenta (`extK`) and external times (`extT`) of all the nodes in a vector of graphs in-place.</code></pre><p><strong>Arguments</strong></p><ul><li><code>diags::Vector{Graph}</code>: A vector of <code>Graph</code> objects.</li><li><code>para::DiagPara</code>: parameters reconstructed in the graphs. Its <code>firstTauIdx</code> will update the <code>extT</code> of graphs.</li><li><code>legK::Vector{Vector{Float64}}</code>: basis of the external momenta for the legs of the diagram as [left in, left out, right in, right out].</li><li><code>extraLoopIdx</code>: the index of the extra loop in the external momenta basis in <code>legK</code>. Defaults to <code>nothing</code>, which means no extra loop is included. </li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/numericalEFT/FeynmanDiagram.jl/blob/5b58358167a134282bff0660a5ee5c3c3e9bc3c5/src/frontend/parquet/operation.jl#L159-L169">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="FeynmanDiagram.FrontEnds.Parquet.vertex3" href="#FeynmanDiagram.FrontEnds.Parquet.vertex3"><code>FeynmanDiagram.FrontEnds.Parquet.vertex3</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">function vertex3(para::DiagPara, _extK=[getK(para.totalLoopNum, 1), getK(para.totalLoopNum, 2)], subdiagram=false;
    name=:Γ3, channels=[PHr, PHEr, PPr, Alli], resetuid=false, blocks::ParquetBlocks=ParquetBlocks())</code></pre><p>Generate 3-vertex diagrams using Parquet Algorithm. With imaginary-time variables, all vertex3 generated has the same bosonic Tidx <span>$extT[1]=para.firstTauIdx$</span> and the incoming fermionic Tidx <span>$extT[2]=para.firstTauIdx+1$</span>.</p><p>#Arguments</p><ul><li><code>para</code>            : parameters. It should provide internalLoopNum, interactionTauNum, firstTauIdx</li><li><code>extK</code>            : basis of external loops as a vector [bosonic leg (out), fermionic in, fermionic out], extK[1] = extK[2] - extK[3]. </li><li><code>subdiagram</code>      : a sub-vertex or not</li><li><code>name</code>            : name of the vertex</li><li><code>channels</code>            : vector of channels of the current 4-vertex. </li><li><code>resetuid</code>        : restart uid count from 1</li><li><code>blocks</code>          : building blocks of the Parquet equation. See the struct ParquetBlocks for more details.</li></ul><p><strong>Output</strong></p><ul><li>A DataFrame with fields :response, :extT, :diagram, :hash. </li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/numericalEFT/FeynmanDiagram.jl/blob/5b58358167a134282bff0660a5ee5c3c3e9bc3c5/src/frontend/parquet/vertex3.jl#L1-L19">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="FeynmanDiagram.FrontEnds.Parquet.vertex4" href="#FeynmanDiagram.FrontEnds.Parquet.vertex4"><code>FeynmanDiagram.FrontEnds.Parquet.vertex4</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">vertex4(para::DiagPara,
    extK = [getK(para.totalLoopNum, 1), getK(para.totalLoopNum, 2), getK(para.totalLoopNum, 3)],
    subdiagram = false;
    channels::AbstractVector = [PHr, PHEr, PPr, Alli],
    level = 1, name = :none, resetuid = false,
    blocks::ParquetBlocks=ParquetBlocks(),
    blockstoplevel::ParquetBlocks=blocks
    )</code></pre><p>Generate 4-vertex diagrams using Parquet Algorithm</p><p><strong>Arguments</strong></p><ul><li><code>para</code>            : parameters. It should provide internalLoopNum, interactionTauNum, firstTauIdx</li><li><code>extK</code>            : basis of external loops as a vector [left in, left out, right in, right out]. </li><li><code>subdiagram</code>      : a sub-vertex or not</li><li><code>channels</code>            : vector of channels of the current 4-vertex. </li><li><code>name</code>            : name of the vertex</li><li><code>level</code>           : level in the diagram tree</li><li><code>resetuid</code>        : restart uid count from 1</li><li><code>blocks</code>          : building blocks of the Parquet equation. See the struct ParquetBlocks for more details.</li><li><code>blockstoplevel</code>  : building blocks of the Parquet equation at the toplevel. See the struct ParquetBlocks for more details.</li></ul><p><strong>Output</strong></p><ul><li>A DataFrame with fields :response, :type, :extT, :diagram, :hash</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/numericalEFT/FeynmanDiagram.jl/blob/5b58358167a134282bff0660a5ee5c3c3e9bc3c5/src/frontend/parquet/vertex4.jl#L1-L26">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Parameters.reconstruct-Tuple{Type{FeynmanDiagram.FrontEnds.Parquet.DiagPara}, FeynmanDiagram.FrontEnds.Parquet.DiagPara, Any}" href="#Parameters.reconstruct-Tuple{Type{FeynmanDiagram.FrontEnds.Parquet.DiagPara}, FeynmanDiagram.FrontEnds.Parquet.DiagPara, Any}"><code>Parameters.reconstruct</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">Parameters.reconstruct(p::DiagPara; kws...)

Type-stable version of the Parameters.reconstruct</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/numericalEFT/FeynmanDiagram.jl/blob/5b58358167a134282bff0660a5ee5c3c3e9bc3c5/src/frontend/parquet/parquet.jl#L127-L131">source</a></section></article><h2 id="Usage"><a class="docs-heading-anchor" href="#Usage">Usage</a><a id="Usage-1"></a><a class="docs-heading-anchor-permalink" href="#Usage" title="Permalink"></a></h2><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; using FeynmanDiagram</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; para = DiagPara(type = Ver4Diag, innerLoopNum = 1, hasTau = true);</code><code class="nohighlight hljs ansi" style="display:block;">ERROR: UndefVarError: `Ver4Diag` not defined</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; Parquet.vertex4(para)</code><code class="nohighlight hljs ansi" style="display:block;">ERROR: UndefVarError: `para` not defined</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; para = DiagPara(type = Ver3Diag, innerLoopNum = 1, hasTau = true);</code><code class="nohighlight hljs ansi" style="display:block;">ERROR: UndefVarError: `Ver3Diag` not defined</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; Parquet.vertex3(para)</code><code class="nohighlight hljs ansi" style="display:block;">ERROR: UndefVarError: `para` not defined</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; para = DiagPara(type = SigmaDiag, innerLoopNum = 1, hasTau = true);</code><code class="nohighlight hljs ansi" style="display:block;">ERROR: UndefVarError: `SigmaDiag` not defined</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; Parquet.sigma(para)</code><code class="nohighlight hljs ansi" style="display:block;">ERROR: UndefVarError: `para` not defined</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; para = DiagPara(type = PolarDiag, innerLoopNum = 1, hasTau = true);</code><code class="nohighlight hljs ansi" style="display:block;">ERROR: UndefVarError: `PolarDiag` not defined</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; Parquet.polarization(para)</code><code class="nohighlight hljs ansi" style="display:block;">ERROR: UndefVarError: `para` not defined</code></pre></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../GV/">« GV expansion to a computational graph</a><a class="docs-footer-nextpage" href="../backend/">Compilers compile computational graphs to optimized source code for diverse platforms »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.10 on <span class="colophon-date" title="Friday 16 February 2024 07:37">Friday 16 February 2024</span>. Using Julia version 1.10.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
